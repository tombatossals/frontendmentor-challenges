{"version":3,"file":"component---src-pages-region-region-slug-js-0e88cd281305ccb64d65.js","mappings":"+MAmEA,UA3DkB,SAAC,GAAwB,IAAtBA,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SACjBC,EAAcC,EAAAA,WAAiBC,EAAAA,GAA/BF,UAOR,OALAC,EAAAA,WAAgB,WACd,IAAME,EAASJ,EAASK,SAASC,MAAM,KAAKC,OAAO,GAAG,GACtDN,EAAUG,KACT,CAACH,EAAWD,EAASK,WAGtB,gBAAC,aAAD,MACG,gBAAGG,EAAH,EAAGA,OAAH,OACC,gCACGT,EAAKU,WAAWC,MAAMC,OAAS,GAC9B,gBAAC,IAAD,CAAKC,MAAOb,EAAKU,WAAWC,MAAM,GAAGN,SAGvC,gBAAC,IAAD,MACA,uBAAKS,UAAU,8EACZd,EAAKU,WAAWC,MACdI,QAAO,SAAAC,GAAO,OACbA,EAAQC,KAAKC,OAAOC,cAAcC,SAASX,MAG5CY,KAAI,SAAAL,GAAO,OACV,gBAAC,IAAD,CAAMM,IAAKN,EAAQO,GAAIvB,KAAMgB","sources":["webpack://rest-countries-api-gatsby/./src/pages/region/{region.slug}.js"],"sourcesContent":["import * as React from \"react\"\nimport { graphql } from \"gatsby\"\nimport Card from \"../../components/card\"\nimport Seo from \"../../components/seo\"\nimport MainBar from \"../../components/mainbar\"\nimport { RegionContext } from \"../../context/region\"\nimport { SearchContext } from \"../../context/search\"\n\nconst IndexPage = ({ data, location }) => {\n  const { setRegion } = React.useContext(RegionContext)\n\n  React.useEffect(() => {\n    const region = location.pathname.split(\"/\").slice(-1)[0]\n    setRegion(region)\n  }, [setRegion, location.pathname])\n\n  return (\n    <SearchContext.Consumer>\n      {({ search }) => (\n        <>\n          {data.allCountry.nodes.length > 0 && (\n            <Seo title={data.allCountry.nodes[0].region} />\n          )}\n\n          <MainBar />\n          <div className=\"mx-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-20\">\n            {data.allCountry.nodes\n              .filter(country =>\n                country.name.common.toLowerCase().includes(search)\n              )\n\n              .map(country => (\n                <Card key={country.id} data={country} />\n              ))}\n          </div>\n        </>\n      )}\n    </SearchContext.Consumer>\n  )\n}\n\nexport const query = graphql`\n  query ($slug: String) {\n    allCountry(filter: { regionSlug: { eq: $slug } }) {\n      nodes {\n        id\n        slug\n        name {\n          common\n        }\n        population\n        region\n        capital\n        localImage {\n          childImageSharp {\n            gatsbyImageData(\n              width: 480\n              placeholder: BLURRED\n              formats: [AUTO, WEBP]\n            )\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default IndexPage\n"],"names":["data","location","setRegion","React","RegionContext","region","pathname","split","slice","search","allCountry","nodes","length","title","className","filter","country","name","common","toLowerCase","includes","map","key","id"],"sourceRoot":""}